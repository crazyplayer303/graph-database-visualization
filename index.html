<section class="intro">
    <h2>Introduction</h2>
    <p>
        Graph databases represent a paradigm shift in how financial institutions manage, analyze, and gain insights from their data. 
        Unlike traditional relational databases, graph databases excel at handling complex relationships and networks, 
        making them ideal for fraud detection, anti-money laundering, and risk analysis.
    </p>
    <p>
        The visualizations below demonstrate key metrics and concepts related to graph database implementation in financial services.
    </p>
</section>

<section>
    <h2>Interactive Financial Metrics Dashboard</h2>
    <div id="charts-root" class="visualization-container"></div>
</section>

<footer>
    <p>Created for BIS5326: Enterprise Data Management and Analysis</p>
    <p>Lincoln Institute of Higher Education - 2025</p>
</footer>

<!-- React Component for Charts -->
<script type="text/babel">
    const { useState } = React;
    const { 
        PieChart, Pie, BarChart, Bar, XAxis, YAxis, CartesianGrid, 
        Tooltip, Legend, ResponsiveContainer, LineChart, Line, AreaChart, Area 
    } = Recharts;
    
    const GraphDatabaseVisualizations = () => {
        // Tab state
        const [activeTab, setActiveTab] = useState('fraudReduction');
        
        // Data for the charts
        const fraudReductionData = [
            { name: 'Traditional DB', value: 1720, fill: '#8884d8' },
            { name: 'Graph DB', value: 980, fill: '#82ca9d' },
        ];
        
        const timeEfficiencyData = [
            { name: 'Alert Triage (CBA)', traditional: 100, graph: 60 },
            { name: 'Scenario Runtime (JP Morgan)', traditional: 100, graph: 5 },
            { name: 'SAR Analysis (US Bank)', traditional: 100, graph: 43 },
        ];
        
        const adoptionBarriersData = [
            { name: 'Skills Shortage', value: 68 },
            { name: 'Integration Complexity', value: 52 },
            { name: 'License Cost', value: 47 },
            { name: 'Data Migration', value: 41 },
            { name: 'Security Concerns', value: 35 },
        ];
        
        const falsePositiveReductionData = [
            { name: 'Rule Engine', value: 92 },
            { name: 'Graph DB', value: 65 },
        ];
        
        const marketAdoptionData = [
            { year: 2020, adoption: 12 },
            { year: 2021, adoption: 18 },
            { year: 2022, adoption: 27 },
            { year: 2023, adoption: 38 },
            { year: 2024, adoption: 52 },
            { year: 2025, adoption: 63, projected: true },
            { year: 2026, adoption: 72, projected: true },
        ];

        // Render functions for each chart
        const renderFraudReduction = () => (
            <div className="chart-container">
                <h3 style={{fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem'}}>Fraud Loss Reduction per 1,000 Transactions (USD)</h3>
                <p style={{marginBottom: '1rem'}}>Graph databases have been shown to reduce fraud losses by 43% compared to traditional database approaches.</p>
                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>
                    <ResponsiveContainer width="100%" height={400}>
                        <BarChart data={fraudReductionData} layout="vertical">
                            <CartesianGrid strokeDasharray="3 3" />
                            <XAxis type="number" />
                            <YAxis dataKey="name" type="category" />
                            <Tooltip formatter={(value) => [`$${value}`, 'Fraud Loss']} />
                            <Legend />
                            <Bar dataKey="value" name="USD per 1,000 Transactions" />
                        </BarChart>
                    </ResponsiveContainer>
                </div>
                <div style={{marginTop: '1rem', fontSize: '0.875rem', color: '#718096'}}>
                    <p>Source: McKinsey & Company (2024). 2024 in charts: Financial crime and fraud benchmarks.</p>
                </div>
            </div>
        );

        const renderTimeEfficiency = () => (
            <div className="chart-container">
                <h3 style={{fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem'}}>Time Efficiency Comparison (% of Original Time)</h3>
                <p style={{marginBottom: '1rem'}}>Graph databases dramatically reduce processing time across various financial use cases.</p>
                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>
                    <ResponsiveContainer width="100%" height={400}>
                        <BarChart data={timeEfficiencyData}>
                            <CartesianGrid strokeDasharray="3 3" />
                            <XAxis dataKey="name" />
                            <YAxis label={{ value: 'Processing Time (% of Original)', angle: -90, position: 'insideLeft' }} />
                            <Tooltip />
                            <Legend />
                            <Bar dataKey="traditional" name="Traditional Database" fill="#8884d8" />
                            <Bar dataKey="graph" name="Graph Database" fill="#82ca9d" />
                        </BarChart>
                    </ResponsiveContainer>
                </div>
                <div style={{marginTop: '1rem', fontSize: '0.875rem', color: '#718096'}}>
                    <p>Source: Compiled from FinTech Global (2024), Gartner (2024), and Neo4j (n.d.) case studies.</p>
                </div>
            </div>
        );

        const renderAdoptionBarriers = () => (
            <div className="chart-container">
                <h3 style={{fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem'}}>Top Barriers to Graph Database Adoption (%)</h3>
                <p style={{marginBottom: '1rem'}}>Despite their advantages, several factors continue to limit widespread adoption of graph databases in financial contexts.</p>
                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>
                    <ResponsiveContainer width="100%" height={400}>
                        <BarChart data={adoptionBarriersData}>
                            <CartesianGrid strokeDasharray="3 3" />
                            <XAxis dataKey="name" />
                            <YAxis label={{ value: 'Percentage of Organizations', angle: -90, position: 'insideLeft' }} />
                            <Tooltip formatter={(value) => [`${value}%`, 'Organizations Citing This Barrier']} />
                            <Legend />
                            <Bar dataKey="value" name="% of Organizations" fill="#ff7300" />
                        </BarChart>
                    </ResponsiveContainer>
                </div>
                <div style={{marginTop: '1rem', fontSize: '0.875rem', color: '#718096'}}>
                    <p>Source: Gartner (2024). Emerging Technology Analysis: Graph Database Market Trends and Barriers.</p>
                </div>
            </div>
        );

        const renderFalsePositiveReduction = () => (
            <div className="chart-container">
                <h3 style={{fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem'}}>AML False Positive Rate Comparison (%)</h3>
                <p style={{marginBottom: '1rem'}}>Graph databases significantly reduce false positive rates in Anti-Money Laundering (AML) monitoring.</p>
                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>
                    <ResponsiveContainer width="100%" height={400}>
                        <PieChart>
                            <Pie
                                data={falsePositiveReductionData}
                                cx="50%"
                                cy="50%"
                                labelLine={true}
                                outerRadius={150}
                                label={({ name, value }) => `${name}: ${value}%`}
                                dataKey="value"
                            >
                            </Pie>
                            <Tooltip formatter={(value) => [`${value}%`, 'False Positive Rate']} />
                            <Legend />
                        </PieChart>
                    </ResponsiveContainer>
                </div>
                <div style={{marginTop: '1rem', fontSize: '0.875rem', color: '#718096'}}>
                    <p>Source: FinTech Global (2024). Graph databases transforming financial crime detection and AML capabilities.</p>
                </div>
            </div>
        );

        const renderMarketAdoption = () => (
            <div className="chart-container">
                <h3 style={{fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem'}}>Graph Database Adoption in Financial Services (%)</h3>
                <p style={{marginBottom: '1rem'}}>Adoption of graph databases in financial institutions has grown steadily, with projected continued growth.</p>
                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>
                    <ResponsiveContainer width="100%" height={400}>
                        <AreaChart data={marketAdoptionData}>
                            <CartesianGrid strokeDasharray="3 3" />
                            <XAxis dataKey="year" />
                            <YAxis label={{ value: 'Adoption Rate (%)', angle: -90, position: 'insideLeft' }} />
                            <Tooltip formatter={(value, name, props) => {
                                return props.payload.projected ? 
                                    [`${value}% (Projected)`, 'Adoption Rate'] : 
                                    [`${value}%`, 'Adoption Rate'];
                            }} />
                            <Legend />
                            <Area type="monotone" dataKey="adoption" name="Financial Services Adoption" fill="#8884d8" fillOpacity={0.6} stroke="#8884d8" />
                        </AreaChart>
                    </ResponsiveContainer>
                </div>
                <div style={{marginTop: '1rem', fontSize: '0.875rem', color: '#718096'}}>
                    <p>Source: Market analysis based on data from Gartner (2024) and McKinsey & Company (2024).</p>
                </div>
            </div>
        );
        
        return (
            <div style={{padding: '1rem'}}>
                <h2 style={{fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1.5rem', textAlign: 'center'}}>Graph Databases in Financial Services: Key Metrics</h2>
                
                {/* Tab navigation */}
                <div style={{display: 'flex', flexWrap: 'wrap', marginBottom: '1.5rem', borderBottom: '1px solid #dee2e6'}}>
                    <button 
                        style={{
                            padding: '0.75rem', 
                            fontWeight: '500', 
                            backgroundColor: activeTab === 'fraudReduction' ? '#fff' : '#f8f9fa',
                            color: activeTab === 'fraudReduction' ? '#4299e1' : '#4a5568',
                            borderBottom: activeTab === 'fraudReduction' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderLeft: '1px solid #dee2e6',
                            borderRight: '1px solid #dee2e6',
                            borderTop: activeTab === 'fraudReduction' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderRadius: '4px 4px 0 0',
                            marginRight: '0.25rem',
                            cursor: 'pointer'
                        }}
                        onClick={() => setActiveTab('fraudReduction')}>
                        Fraud Reduction
                    </button>
                    <button 
                        style={{
                            padding: '0.75rem', 
                            fontWeight: '500', 
                            backgroundColor: activeTab === 'timeEfficiency' ? '#fff' : '#f8f9fa',
                            color: activeTab === 'timeEfficiency' ? '#4299e1' : '#4a5568',
                            borderBottom: activeTab === 'timeEfficiency' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderLeft: '1px solid #dee2e6',
                            borderRight: '1px solid #dee2e6',
                            borderTop: activeTab === 'timeEfficiency' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderRadius: '4px 4px 0 0',
                            marginRight: '0.25rem',
                            cursor: 'pointer'
                        }}
                        onClick={() => setActiveTab('timeEfficiency')}>
                        Time Efficiency
                    </button>
                    <button 
                        style={{
                            padding: '0.75rem', 
                            fontWeight: '500', 
                            backgroundColor: activeTab === 'adoptionBarriers' ? '#fff' : '#f8f9fa',
                            color: activeTab === 'adoptionBarriers' ? '#4299e1' : '#4a5568',
                            borderBottom: activeTab === 'adoptionBarriers' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderLeft: '1px solid #dee2e6',
                            borderRight: '1px solid #dee2e6',
                            borderTop: activeTab === 'adoptionBarriers' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderRadius: '4px 4px 0 0',
                            marginRight: '0.25rem',
                            cursor: 'pointer'
                        }}
                        onClick={() => setActiveTab('adoptionBarriers')}>
                        Adoption Barriers
                    </button>
                    <button 
                        style={{
                            padding: '0.75rem', 
                            fontWeight: '500', 
                            backgroundColor: activeTab === 'falsePositiveReduction' ? '#fff' : '#f8f9fa',
                            color: activeTab === 'falsePositiveReduction' ? '#4299e1' : '#4a5568',
                            borderBottom: activeTab === 'falsePositiveReduction' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderLeft: '1px solid #dee2e6',
                            borderRight: '1px solid #dee2e6',
                            borderTop: activeTab === 'falsePositiveReduction' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderRadius: '4px 4px 0 0',
                            marginRight: '0.25rem',
                            cursor: 'pointer'
                        }}
                        onClick={() => setActiveTab('falsePositiveReduction')}>
                        False Positives
                    </button>
                    <button 
                        style={{
                            padding: '0.75rem', 
                            fontWeight: '500', 
                            backgroundColor: activeTab === 'marketAdoption' ? '#fff' : '#f8f9fa',
                            color: activeTab === 'marketAdoption' ? '#4299e1' : '#4a5568',
                            borderBottom: activeTab === 'marketAdoption' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderLeft: '1px solid #dee2e6',
                            borderRight: '1px solid #dee2e6',
                            borderTop: activeTab === 'marketAdoption' ? '2px solid #4299e1' : '1px solid #dee2e6',
                            borderRadius: '4px 4px 0 0',
                            marginRight: '0.25rem',
                            cursor: 'pointer'
                        }}
                        onClick={() => setActiveTab('marketAdoption')}>
                        Market Adoption
                    </button>
                </div>
                
                {/* Active chart */}
                <div style={{border: '1px solid #dee2e6', borderRadius: '0.5rem', padding: '1.5rem'}}>
                    {activeTab === 'fraudReduction' && renderFraudReduction()}
                    {activeTab === 'timeEfficiency' && renderTimeEfficiency()}
                    {activeTab === 'adoptionBarriers' && renderAdoptionBarriers()}
                    {activeTab === 'falsePositiveReduction' && renderFalsePositiveReduction()}
                    {activeTab === 'marketAdoption' && renderMarketAdoption()}
                </div>
                
                <div style={{marginTop: '1.5rem', backgroundColor: '#f8f9fa', padding: '1rem', borderRadius: '0.5rem'}}>
                    <h3 style={{fontSize: '1.125rem', fontWeight: '600', marginBottom: '0.5rem'}}>Key Insights</h3>
                    <ul style={{listStyleType: 'disc', paddingLeft: '1.25rem'}}>
                        <li style={{marginBottom: '0.5rem'}}>Graph databases reduce fraud losses by 43% compared to traditional approaches</li>
                        <li style={{marginBottom: '0.5rem'}}>Processing time for complex financial queries can be reduced by up to 95%</li>
                        <li style={{marginBottom: '0.5rem'}}>False positive rates in AML monitoring drop from 92% to 65%</li>
                        <li style={{marginBottom: '0.5rem'}}>Skills shortage remains the biggest barrier to adoption (68% of organizations)</li>
                        <li style={{marginBottom: '0.5rem'}}>Market adoption in financial services has more than quadrupled since 2020</li>
                    </ul>
                </div>
            </div>
        );
    };

    // Render the component to the DOM
    ReactDOM.render(
        <GraphDatabaseVisualizations />,
        document.getElementById('charts-root')
    );
</script>
